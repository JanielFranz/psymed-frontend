<mat-card class="patient-card">
  <mat-card-title class="title">Add Patient</mat-card-title>

  <form [formGroup]="patientForm" (ngSubmit)="onSubmit()" class="form-container">
    <!-- First Name -->
    <mat-form-field appearance="fill" class="form-field">
      <mat-label>First Name</mat-label>
      <input matInput formControlName="firstName" type="text" placeholder="Enter patient's first name">
      <mat-error *ngIf="patientForm.get('firstName')?.hasError('required')">First Name is required</mat-error>
    </mat-form-field>

    <!-- Last Name -->
    <mat-form-field appearance="fill" class="form-field">
      <mat-label>Last Name</mat-label>
      <input matInput formControlName="lastName" type="text" placeholder="Enter patient's last name">
      <mat-error *ngIf="patientForm.get('lastName')?.hasError('required')">Last Name is required</mat-error>
    </mat-form-field>

    <!-- Street -->
    <mat-form-field appearance="fill" class="form-field">
      <mat-label>Street</mat-label>
      <input matInput formControlName="street" type="text" placeholder="Enter patient's street">
      <mat-error *ngIf="patientForm.get('street')?.hasError('required')">Street is required</mat-error>
    </mat-form-field>

    <!-- City -->
    <mat-form-field appearance="fill" class="form-field">
      <mat-label>City</mat-label>
      <input matInput formControlName="city" type="text" placeholder="Enter patient's city">
      <mat-error *ngIf="patientForm.get('city')?.hasError('required')">City is required</mat-error>
    </mat-form-field>

    <!-- Country -->
    <mat-form-field appearance="fill" class="form-field">
      <mat-label>Country</mat-label>
      <input matInput formControlName="country" type="text" placeholder="Enter patient's country">
      <mat-error *ngIf="patientForm.get('country')?.hasError('required')">Country is required</mat-error>
    </mat-form-field>

    <!-- Email -->
    <mat-form-field appearance="fill" class="form-field">
      <mat-label>Email</mat-label>
      <input matInput formControlName="email" type="email" placeholder="Enter patient's email">
      <mat-error *ngIf="patientForm.get('email')?.hasError('required')">Email is required</mat-error>
      <mat-error *ngIf="patientForm.get('email')?.hasError('email')">Invalid email</mat-error>
    </mat-form-field>

    <!-- Username -->
    <mat-form-field appearance="fill" class="form-field">
      <mat-label>Username</mat-label>
      <input matInput formControlName="username" type="text" placeholder="Enter patient's username">
      <mat-error *ngIf="patientForm.get('username')?.hasError('required')">Username is required</mat-error>
    </mat-form-field>

    <!-- Password -->
    <mat-form-field appearance="fill" class="form-field">
      <mat-label>Password</mat-label>
      <input matInput formControlName="password" type="password" placeholder="Enter patient's password">
      <button mat-icon-button matSuffix (click)="togglePasswordVisibility($event)">
        <mat-icon>visibility_off</mat-icon>
      </button>
      <mat-error *ngIf="patientForm.get('password')?.hasError('required')">Password is required</mat-error>
      <mat-error *ngIf="patientForm.get('password')?.hasError('minlength')">Password must be at least 8 characters</mat-error>
    </mat-form-field>

    <!-- Buttons -->
    <div class="button-container">
      <button mat-flat-button color="primary" type="submit" [disabled]="patientForm.invalid">Create</button>
      <button mat-stroked-button color="warn" type="button" (click)="closeForm()">Cancel</button>
    </div>
  </form>
</mat-card>
